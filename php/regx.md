## PHP中的正则表达式

正则表达式基本上也就那几个点，这里重新再次讲解下正则表达式，以及在PHP中的使用。

### 1 基本元字符

* `.` 匹配除换行符之外的任意一个字符
* `?` 重复前一个字符零次或1次
* `*` 重复前一个字符零次及以上
* `^` 匹配字符串的开头，`$` 匹配字符串的结尾
* `{m, n}` 重复前一个字符至少m次，最多n次
* `\w` 匹配字母数字或下划线(word)
* `\s` 匹配空白字符(space)
* `\b` 匹配单词的开始或结束
* `\d` 匹配数字

### 2 集合

当要指定多个字符时，就需要使用集合`[]`。

例如，要指定只能出现1、2、3，就可以:`[123]`。

大家知道，当要匹配`.`或者`*`时，由于它们是元字符，就需要对它们进行转义：`\.`或者`\*`，但是，如果是放在`[]`中时，就不需要转义:`[.*]`。

### 3 分支条件

在匹配时，有时候不能用一个表达式写出来要匹配的字符串，这时，就需要使用到分支条件：`|`。

`exp1|exp2`，匹配exp1或者exp2，另外，如果匹配了exp1，就不会再匹配exp2了。

### 4 分组

在匹配时，有可能想匹配一个组合，或者重复一个组合，这时，就要用到分组：`()`。

例如，要重复123三次：`(123){3}`

### 5 后向引用

后向引用用于匹配之前已经匹配的表达式。

正则表达式会对分组进行编号，第一个分组就是1，第二个分组就是2，依次类推。那么在后面如果要匹配第1个分组，就可以直接用`\1`。

### 6 零宽断言

有时，想要匹配某个内容，但是，又不想在匹配结果中得到它，这时，就要用到零宽断言，零宽断言通常是匹配一个位置。

* `(?=exp)` 匹配一个位置，该位置`前面是`exp
* `(?<=exp)` 匹配一个位置，该位置`后面是`exp
* `(?<!exp)` 匹配一个位置，该位置`前面不是`exp
* `(?!exp)` 匹配一个位置，该位置`后面不是`exp

### 7 贪婪匹配和懒惰匹配

默认情况下，会匹配尽可能多的字符，这称为`贪婪匹配`。但是，有时候要用到`懒惰匹配`，就是尽可能少的匹配字符。

在匹配时，在模式后面加上`?`就是懒惰匹配。

### 8 选项

选项可以改变正则表达式的处理方式：

* i(ignorecase) 忽略大小写
* m(multiline) 多行模式，默认情况下，`^`和`$`分别匹配`输入字符串`的开始和结束，当采用多行模式时，`^`匹配行的开始，`$`匹配`\n`和输入字符串的末尾。
* s(singleline) 单行模式，默认情况下，`.`不能匹配换行符，当采用单行模式时，`.`可以匹配输入字符串的任意字符。
* x 忽略非转义空白
* n 不捕获未命名的组

参考文档：

1 [正则表达式30分钟入门教程](http://deerchao.net/tutorials/regex/regex.htm)