## 正向代理和反向代理

### 1 正向代理

工作原理：内网的客户端不能访问外网，而代理服务器能够访问外网。于是，客户端将请求发送给代理服务器，代理服务器再将请求转发给要访问的网站的服务器，网站服务器收到请求后，向代理发送响应，代理再发送给客户端。

应用场景：

* 翻墙。由于安全等问题，内网不能访问外网，但是，有时候，有访问外网的需求。
* 缓存。代理服务器可以缓存一部分的响应，减少访问外网的请求。

### 2 反向代理

工作原理：客户端访问一个网址时，这个网址解析到的对应的IP就是反向代理服务器的IP，反向代理服务器根据所请求的资源去后端的服务器上取得对应的资源，再返回给客户端。

应用场景：

* 负载均衡。在后端搭建多个资源服务器，可以对请求进行均衡处理。
* 安全控制。后端服务器可以只允许反向代理服务器访问。

### 3 对比

代表的对象不同：

* 正向代理的代理服务器比较靠近客户端，作为客户端的代理去访问目标服务器。
* 反向代理的代理服务器比较靠近服务器，作为服务端的代理为客户端提供服务器。

设置的位置不同：

正向代理时，客户端需要进行相应的代理服务器设置，而反向代理是在服务器端做设置。

![](https://github.com/luofengmacheng/web_learning/blob/master/pics/proxy_server.png)